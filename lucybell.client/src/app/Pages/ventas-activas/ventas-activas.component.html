<div class="flex">
    <app-sidebarAdmin class="sidebar"></app-sidebarAdmin>

    <div class="main-content flex-1 p-4">
        <h1 class="text-3xl inline-block absolute; max-md:pl-4 max-md:text-2xl max-md:pt-4" style="font-family: VollkornSC; display: inline-block;">
            Ventas activas
            <div class="gradient-line-title mb-4"></div>
          </h1>
          <p class="mb-10 ml-4">Permite el control de las transacciones en curso</p>
        <div class="overflow-x-auto bg-MyColor rounded-lg shadow-xl max-w-[95%] m-auto">
            <div class="min-w-full">
              <!-- Desktop Table -->
              <table class="min-w-full hidden xl:table">
                <thead>
                  <tr class="border-b border-gray-700">
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">#</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Nombre</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Fecha</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Método</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Envío</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Total</th>
                    <th class="px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider">Acciones</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-700">
                  <tr *ngFor="let sale of sales" class="text-gray-200 hover:bg-gray-800">
                    <td class="px-4 py-3 whitespace-nowrap">{{ sale.id }}</td>
                    <td class="px-4 py-3 whitespace-nowrap">{{ sale.nombre }}</td>
                    <td class="px-4 py-3 whitespace-nowrap">{{ sale.fecha }}</td>
                    <td class="px-4 py-3 whitespace-nowrap">{{ sale.metodo }}</td>
                    <td class="px-4 py-3 whitespace-nowrap">{{ sale.envio }}</td>
                    <td class="px-4 py-3 whitespace-nowrap">${{ sale.total.toLocaleString('es-AR') }}</td>
                    <td class="px-4 py-3 whitespace-nowrap text-center space-x-2">
                      <button (click)="verDetalles(sale.id)" 
                              class="inline-flex items-center p-1.5 text-gray-300 hover:text-white hover:bg-gray-700 rounded-full">
                        <i class="fas fa-info-circle"></i>
                        <span class="sr-only">Ver detalles</span>
                      </button>
                      <button (click)="confirmarVenta(sale.id)"
                              class="inline-flex items-center p-1.5 text-green-500 hover:text-green-400 hover:bg-green-900 rounded-full">
                        <i class="fas fa-check"></i>
                        <span class="sr-only">Confirmar venta</span>
                      </button>
                      <button (click)="cancelarVenta(sale.id)"
                              class="inline-flex items-center p-1.5 text-red-500 hover:text-red-400 hover:bg-red-900 rounded-full">
                        <i class="fas fa-times"></i>
                        <span class="sr-only">Cancelar venta</span>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
          
              <!-- Mobile Cards -->
              <div class="xl:hidden">
                <div *ngFor="let sale of sales" class="px-4 py-3 border-b border-gray-700">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <div class="text-sm font-medium text-white">{{ sale.nombre }}</div>
                      <div class="text-xs text-gray-400">{{ sale.fecha }}</div>
                    </div>
                    <div class="text-right">
                      <div class="text-sm font-medium text-white">${{ sale.total.toLocaleString('es-AR') }}</div>
                      <div class="text-xs text-gray-400">{{ sale.envio }}</div>
                    </div>
                  </div>
                  <div class="flex justify-end space-x-2">
                    <button (click)="verDetalles(sale.id)" 
                            class="p-1.5 text-gray-300 hover:text-white hover:bg-gray-700 rounded-full">
                      <i class="fas fa-info-circle"></i>
                      <span class="sr-only">Ver detalles</span>
                    </button>
                    <button (click)="confirmarVenta(sale.id)"
                            class="p-1.5 text-green-500 hover:text-green-400 hover:bg-green-900 rounded-full">
                      <i class="fas fa-check"></i>
                      <span class="sr-only">Confirmar venta</span>
                    </button>
                    <button (click)="cancelarVenta(sale.id)"
                            class="p-1.5 text-red-500 hover:text-red-400 hover:bg-red-900 rounded-full">
                      <i class="fas fa-times"></i>
                      <span class="sr-only">Cancelar venta</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </div>
</div>
